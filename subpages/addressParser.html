<!DOCTYPE html>

<html>
    <style>
        body{
            position: absolute;
            font-family: cursive;
            text-align: center;
            left: 250px;
            background: url(../images/backdrop.jpg);
        }
    </style>

    <body>
        <h1>Please enter an address</h1>
        <h2>Enter all Directionals as all caps and Apartment as "Apt"</h2>
        <br>
        <input id = "input" type = "text" placeholder="Enter Address"></input>
        <button onclick="parse()">Submit</button>
    </body>

<script>
    function parse(){
        //grab input from html
        var input = document.getElementById("input").value;
        //different variables needed
        var streetName;
        var aptNum;
        //arrays for type of directionals and street types
        var directional = ["N", "S", "E", "W", "NW", "NE", "SW", "SE", "FI", "KPN", "KPS"];
        var streetTypeLib = ["Road", "Rd", "Rd.", "Court", "Ct", "Ct.", "Boulevard", "Blvd", "Blvd.", "Avenue", "Ave", "Ave."];
        var streetType;
        var streetDirSuf;
        //error checking DOESNT WORK YET
        //error check to make sure that the user includes a directional
        if(input.includes(directional) == true){
            alert("Make sure you have an address with a directional identifier");
        }

        else if (input.includes(streetTypeLib) == true){
            alert("Make sure you have an address with a Street Type");
        }
        //continue with program
        else{
        var streetNumber = input.substring(0,input.indexOf(" "));
        input = input.substring(input.indexOf(" ")+1);
        //check for directional prefix
        //SLOPPY FIX FOR ERROR THAT I CANT FIGURE OUT AT THIS TIME
       
        if(directional.includes(input.substring(0,1))){
            //get prefix directional
            var streetDirPre = input.substring(0, input.indexOf(" "));
            input = input.substring(input.indexOf(" ")+1);


 


            //check for Apt
            if(input.includes("Apt")){
                //first version of street name INCLUDES TYPE
                streetName = input.substring(0, (input.indexOf(("Apt"))-1));
                aptNum = input.substring(input.indexOf("Apt")+4);
            }

        
    }


        
        //no directional prefix
        else
        {
            //first version of street name INCLUDES TYPE
            streetName = input;
            
            
        }
     
     //make sure there is a streetname varible no matter what\
     //this is due to a bug that is not solved but doesn't need to be solved
     streetName = input;

     //check for directional suffix
     if (directional.includes(streetName.substring(streetName.lastIndexOf(" ")+1))){
        streetDirSuf = streetName.substring(streetName.lastIndexOf(" ")+1);
        //get rid of suffix
        streetName = streetName.substring(0, streetName.lastIndexOf(" "));
     }
     //grab street type and set STREET NAME FINAL
     streetType = streetName.substring(streetName.lastIndexOf(" ")+1);
     //get rid of type
     streetName = streetName.substring(0, streetName.lastIndexOf(" "));
     
     
     //FINAL OUTPUT
     alert("Street Number: " + streetNumber + "\nStreet Prefix Directional: " + streetDirPre + "\nStreet Name: " + streetName + "\nStreet Type: " + streetType + "\nStreet Suffix Directional: " + streetDirSuf + "\nApartment Number: " + aptNum);
    
    }
}

</script>
</html>